# å‹æ”¾å‡º(Type Emission)

<https://relay.dev/docs/guides/type-emission/>

- [å‹æ”¾å‡º(Type Emission)](#å‹æ”¾å‡ºtype-emission)
  - [å¤‰æ•°ã®æ“ä½œ](#å¤‰æ•°ã®æ“ä½œ)
  - [æ“ä½œã¨ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿](#æ“ä½œã¨ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿)
  - [ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå‚ç…§](#ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå‚ç…§)
  - [å˜ç‹¬ã®ç”Ÿæˆç‰©ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª](#å˜ç‹¬ã®ç”Ÿæˆç‰©ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª)
  - [èƒŒæ™¯æƒ…å ±](#èƒŒæ™¯æƒ…å ±)

é€šå¸¸ã®ä»•äº‹ã®ä¸€éƒ¨ã¨ã—ã¦ã€[Relayã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼](https://relay.dev/docs/guides/compiler/)ã¯ã€å‹å®‰å…¨ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã®è¨˜è¿°ã‚’æ”¯æ´ã™ã‚‹ã€ã‚ãªãŸãŒé¸æŠã—ãŸè¨€èªã®å‹æƒ…å ±ã‚’æ”¾å‡ºã—ã¾ã™ã€‚
ã“ã‚Œã‚‰ã®å‹ã¯ã€`relay-compiler`ãŒæ“ä½œã¨ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚’è¨˜è¿°ã™ã‚‹ãŸã‚ã«ç”Ÿæˆã—ãŸç”Ÿæˆç‰©(artifact)å†…ã«å«ã¾ã‚Œã¾ã™ã€‚

## å¤‰æ•°ã®æ“ä½œ

ã‚¯ã‚¨ãƒªã€ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¾ãŸã¯ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³æ“ä½œã®ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã‚‹å¤‰æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å½¢çŠ¶ã§ã™ã€‚

> The shape of the variables object used for query, mutation, or subscription operations.

æ¬¡ã®ä¾‹ã«ãŠã„ã¦ã€æ”¾å‡ºã•ã‚ŒãŸå‹æƒ…å ±ã¯ã€énullæ–‡å­—åˆ—ã‚’ä½¿ç”¨ã—ãŸ`artistID`ã‚­ãƒ¼ã‚’å«ã‚€ãŸã‚ã«å¤‰æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¦æ±‚ã—ã¾ã™ã€‚

```ts
/**
 * export type ExampleQuery$variables = {
 *   readonly artistID: string
 * }
 * export type ExampleQuery$data = {
 *   readonly artist?: {
 *     readonly name?: string
 *   }
 * }
 * export type ExampleQuery = {
 *   readonly variables: ExampleQuery$variables
 *   readonly response: ExampleQuery$data
 * }
 */
const data = useLazyLoadQuery(
  graphql`
    query ExampleQuery($artistID: ID!) {
      artist(id: $artistID) {
        name
      }
    }
  `,
  // å¤‰æ•°ã¯ExampleQuery$variableså‹ã§ã‚ã‚‹ã“ã¨ãŒæœŸå¾…ã•ã‚Œã¾ã™ã€‚
  {artistID: 'banksy'},
);
```

## æ“ä½œã¨ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿

æ“ä½œã¾ãŸã¯ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã§é¸æŠã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã®å½¢çŠ¶ã¯ã€[ãƒ‡ãƒ¼ã‚¿ãƒã‚¹ã‚­ãƒ³ã‚°è¦å‰‡](https://relay.dev/docs/principles-and-architecture/thinking-in-relay/#data-masking)ã«å¾“ã„ã¾ã™ã€‚
ã¤ã¾ã‚Šã€ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã®å±•é–‹ã«ã‚ˆã‚Šã€ä»»æ„ã®é¸æŠã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãŒé™¤å¤–ã•ã‚Œã¾ã™ã€‚

æ¬¡ã®ä¾‹ã«ãŠã„ã¦ã€æ”¾å‡ºã•ã‚ŒãŸå‹æƒ…å ±ã¯ã€`useLazyLoadQuery`ã¾ãŸã¯`usePreloadedQuery`ã«ã‚ˆã£ã¦è¿”ã•ã‚ŒãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’èª¬æ˜ã—ã¾ã™ã€‚

```ts
/**
 * export type ExampleQuery$variables = {
 *   readonly artistID: string
 * }
 * export type ExampleQuery$data = {
 *   readonly artist?: {
 *     readonly name?: string
 *   }
 * }
 * export type ExampleQuery = {
 *   readonly variables: ExampleQuery$variables
 *   readonly response: ExampleQuery$data
 * }
 */

// dataã¯ExampleQuery$dataå‹ã§ã™ã€‚
const data = useLazyLoadQuery(
  graphql`
    query ExampleQuery($artistID: ID!) {
      artist(id: $artistID) {
        name
      }
    }
  `,
  {artistID: 'banksy'},
);

return props.artist && <div>{props.artist.name} is great!</div>
// ä¸Šè¨˜ã¯èª¤ã‚Šã§ã€æ­£ã—ãã¯æ¬¡ã§ã¯ãªã„ã‹ï¼Ÿ
// return data.artist && <div>{data.artist.name} is great!</div>
```

åŒæ§˜ã«ã€æ¬¡ã®ä¾‹ã«ãŠã„ã¦ã€æ”¾å‡ºã•ã‚ŒãŸå‹æƒ…å ±ã¯ã€`useFragment`ãŒå—ã‘å–ã‚‹ãŸã‚ã«æœŸå¾…ã™ã‚‹ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã®å‹ã«ãƒãƒƒãƒã™ã‚‹ãƒ—ãƒ­ãƒƒãƒ—ã®å‹ã‚’èª¬æ˜ã—ã¾ã™ã€‚

```ts
/**
 * export type ExampleFragmentComponent_artist$data = {
 *   readonly name: string
 * }
 *
 * export type ExampleFragmentComponent_artist$key = { ... }
 */

import { ExampleFragmentComponent_artist$key } from "__generated__/ExampleFragmentComponent_artist.graphql"

interface Props {
  artist: ExampleFragmentComponent_artist$key,
};

export default ExampleFragmentComponent(props: Props) {
  // dataã¯ExampleFragmentComponent_artist$dataå‹ã§ã™ã€‚
  const data = useFragment(
    graphql`
      fragment ExampleFragmentComponent_artist on Artist {
        biography
      }
    `,
    props.artist,
  );

  return <div>About the artist: {props.artist.biography}</div>;
  // ä¸Šè¨˜ã§ã¯ãªãã€æ¬¡ã‚’èª¬æ˜ã—ãŸã‹ã£ãŸã®ã§ã¯ï¼Ÿ
  // return <div>Name of the artist: {data.name}</div>;
}
```

## ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå‚ç…§

ä¸é€æ˜ãªè­˜åˆ¥å­ã¯ã€å­ã‚³ãƒ³ãƒ†ãƒŠãŒãã®è¦ªã‹ã‚‰å—ã‘å–ã‚‹ã“ã¨ã‚’æœŸå¾…ã—ã¦ã‚‹[ãƒ‡ãƒ¼ã‚¿ãƒã‚¹ã‚­ãƒ³ã‚°](https://relay.dev/docs/principles-and-architecture/thinking-in-relay/#data-masking)ã‚’è¨˜è¿°ã—ã¦ã„ã¾ã™ã€‚
ãã‚Œã¯ã€å­ã‚³ãƒ³ãƒ†ãƒŠã®ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆãŒã€è¦ªã®ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã®å†…éƒ¨ã«å±•é–‹ã™ã‚‹ã“ã¨ã‚’è¡¨ç¾ã—ã¾ã™ã€‚

> Relayã¯ã€å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå¿…è¦ã¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ç¤ºã™**ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆ**ã‚’å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜å ´æ‰€ã«è¨˜è¿°ã™ã‚‹ã“ã¨ã§ã€å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®å½¢ã‚’ä¿è¨¼ã™ã‚‹ã€‚
> ãƒšãƒ¼ã‚¸ã¨ãªã‚‹è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå•ã„åˆã‚ã›ã‚‹ã‚¯ã‚¨ãƒªã«é›†ç´„ã™ã‚‹ã¨ã¨ã‚‚ã«ã€å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®šç¾©ã•ã‚ŒãŸãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§åŠã³å±•é–‹ã—ã¦ã€1å›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ãƒšãƒ¼ã‚¸ã‚’é€£ç­‰ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã«å¿…è¦ã¨ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã€‚
>
> ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã«å®Ÿè£…ã™ã‚‹å ´åˆã€è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒåˆ©ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆï¼‰ã®å†…å®¹ã‚’çŸ¥ã‚‹å¿…è¦ã¯ãªã„ã€‚
> ãŸã ã—ã€è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒä½¿ç”¨ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã¯å¯èƒ½ã§ã€ã‚‚ã—ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸå ´åˆã€å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§éš è”½ã—ãŸãƒ‡ãƒ¼ã‚¿ã«è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒä¾å­˜ã™ã‚‹ã“ã¨ã«ãªã‚‹ã€‚
> å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã«è¦ªãŒä¾å­˜ã™ã‚‹ã¨ã€å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¤‰æ›´ãŒè¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å£Šã™å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚
>
> è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ä¾å­˜ã—ãªã„ã‚ˆã†ã«ã€Relayã¯ãƒ‡ãƒ¼ã‚¿ãƒã‚¹ã‚­ãƒ³ã‚°ã¨å‘¼ã°ã‚Œã‚‹æ©Ÿèƒ½ã§ã€è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒéš è”½ã—ãŸãƒ‡ãƒ¼ã‚¿ã®å¯è¦–æ€§ã‚’åˆ¶å¾¡ã™ã‚‹ã€‚
>
> è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®šç¾©ã—ãŸãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã¨åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’å¿…è¦ã¨ã™ã‚‹å ´åˆã€è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚‚å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’é‡è¤‡ã—ã¦ã‚¯ã‚¨ãƒªã«è¿½åŠ ã™ã‚‹ã€‚
> Relayã¯ã€ã‚¯ã‚¨ãƒªå†…ã«é‡è¤‡ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯æœ€é©åŒ–ã«ã‚ˆã‚Šãƒãƒ¼ã‚¸ã™ã‚‹ãŸã‚ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒæœ€é©åŒ–ã•ã‚Œã‚‹ãŸã‚ã€ä¸Šè¨˜ã«å•é¡Œã¯ãªã„ã€‚

> **ğŸ’¡ INFO**
> å®Ÿéš›ã«å‹å®‰å…¨ãªãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå‚ç…§ã®ãƒã‚§ãƒƒã‚¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ã«ã¤ã„ã¦ã¯ã€[ã“ã®é‡è¦ãªæ³¨æ„äº‹é …](https://relay.dev/docs/guides/type-emission/#single-artifact-directory)ã‚’èª­ã‚“ã§ãã ã•ã„ã€‚

ä¸Šè¨˜ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¾‹ã§æ§‹æˆã•ã‚Œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è€ƒãˆã¦ãã ã•ã„ã€‚
ã“ã®ä¾‹ã«ãŠã„ã¦ã€å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§æ”¾å‡ºã•ã‚ŒãŸå‹æƒ…å ±ã¯ã€ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå‚ç…§ã¨å‘¼ã°ã‚Œã‚‹ä¸€æ„ã§ä¸é€æ˜ãªè­˜åˆ¥å­å‹ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚
ã“ã‚Œã¯ã€è¦ªã®ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã®ãŸã‚ã«æ”¾å‡ºã•ã‚ŒãŸå‹æƒ…å ±ã§ã€å­ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆãŒå±•é–‹ã•ã‚Œã‚‹å ´æ‰€ã‚’å‚ç…§ã—ã¾ã™ã€‚
ã—ãŸãŒã£ã¦ã€å­ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆãŒè¦ªãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå†…ã«å±•é–‹ã•ã‚Œã‚‹ã“ã¨ã‚’ä¿è¨¼ã—ã¦ã€æ­£ç¢ºãªãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå‚ç…§ã¯ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã•ã‚Œã¾ã™ã€‚

```ts
import { ExampleFragmentComponent } from "./ExampleFragmentComponent"

/**
 * import { ExampleFragmentComponent_artist$fragmentType } from "ExampleFragmentComponent_artist.graphql";
 *
 * export type ExampleQuery$data = {
 *   readonly artist?: {
 *     readonly name: ?string,
 *     readonly " $fragmentSpreads": ExampleFragmentComponent_artist$fragmentType
 *   }
 * }
 * export type ExampleQuery$variables = {
 *   readonly artistID: string
 * }
 * export type ExampleQuery = {
 *   readonly variables: ExampleQuery$variables
 *   readonly response: ExampleQuery$data
 * }
 */

// dataã®å‹ã¯ExampleQuery$dataã§ã™ã€‚
const data = useLazyLoadQuery(
  graphql`
    query ExampleQuery($artistID: ID!) {
      artist(id: $artistID) {
        name
        ...ExampleFragmentComponent_artist
      }
    }
  `,
  {artistID: 'banksy'},
);

// Here only `data.artist.name` is directly visible,
// the marker prop $fragmentSpreads indicates that `data.artist`
// can be used for the component expecting this fragment spread.
// ã“ã“ã§ã€`data.artist.name`ã®ã¿ãŒç›´æ¥è¦‹ãˆã¦ã€
// ãƒãƒ¼ã‚«ãƒ¼ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£$fragmentSpreadsã¯ã€`data.artist`ãŒã“ã®ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆ
// ã®å±•é–‹ã‚’æœŸå¾…ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚
return <ExampleFragmentComponent artist={data.artist} />;
```

## å˜ç‹¬ã®ç”Ÿæˆç‰©ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

æ³¨ç›®ã—ãªãã¦ã¯ãªã‚‰ãªã„é‡è¦ãªæ³¨æ„äº‹é …ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å³å¯†ãªãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå‚ç…§ã®å‹æƒ…å ±ã¯æ”¾å‡ºã•ã‚Œãšã€ä»£ã‚ã‚Šã«ãã‚Œã‚‰ã¯`any`ã¨ã—ã¦å‹ä»˜ã‘ã•ã‚Œã€å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ä»»æ„ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã›ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚

ã“ã®æ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹ãŸã‚ã«ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©è¨­å®šå†…ã«`artifactDirectory`ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€å˜ç‹¬ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã™ã¹ã¦ã®ç”Ÿæˆç‰©ã‚’è“„ç©ã™ã‚‹ã“ã¨ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ä¼ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```json
// package.json
{
  "relay": {
    "artifactDirectory": "./src/__generated__",
    ...
  },
  ...
}
```

ãã—ã¦ã€ã•ã‚‰ã«`.babelrc`è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ã€babelãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«æˆæœç‰©ã‚’æ¢ã™å ´æ‰€ã‚’ä¼ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```text
# .babelrc
{
  "plugins": [
    ["relay", { "artifactDirectory": "./src/__generated__" }]
  ]
}
```

ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã«ç›¸å¯¾ãƒ‘ã‚¹ã‚’è¨˜è¿°ã—ãªãã¦ã‚‚è‰¯ã„ã‚ˆã†ã«ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è§£æ±ºè¨­å®šå†…ã«ã€ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¾ã™ã€‚
ã“ã‚Œã¯ã€ä¸Šè¨˜ã®ä¾‹ã§ã‚‚å®Ÿæ–½ã—ãŸã“ã¨ã§ã€ç”Ÿæˆç‰©ã¯`../../../../__generated__`ã®ã‚ˆã†ãªç›¸å¯¾ãƒ‘ã‚¹ã§ã¯ãªãã€`__generated__`ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¾ã™ã€‚

> ã‚¯ã‚¨ãƒªãªã©ãŒå®šç¾©ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`__generated__`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã€ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã€‚

## èƒŒæ™¯æƒ…å ±

`relay-compiler`ã¨ç”Ÿæˆç‰©ã®æ”¾å‡ºã¯çŠ¶æ…‹ã‚’æŒã¡ã¾ã›ã‚“ã€‚
ã“ã‚Œã¯ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã¨ã€å‰ã«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒä»˜éšã™ã‚‹ç”Ÿæˆç‰©ã‚’ä¿å­˜ã—ãŸãƒ‡ã‚£ã‚¹ã‚¯ä¸Šã®å ´æ‰€ã‚’è¿½è·¡ã—ãªã„ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚
ã—ãŸãŒã£ã¦ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãƒ¼ã¯ã€*ä»–ã®*ç”Ÿæˆç‰©ã‹ã‚‰ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå‚ç…§ã®å‹ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã“ã¨ã‚’è©¦ã¿ã‚‹ç”Ÿæˆç‰©ã‚’æ”¾å‡ºã™ã‚‹å ´åˆã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯æ¬¡ã‚’è¡Œã„ã¾ã™ã€‚

- æœ€åˆã«ã€ä»–ã®ç”Ÿæˆç‰©ãŒå­˜åœ¨ã™ã‚‹ãƒ‡ã‚£ã‚¹ã‚¯ä¸Šã®å ´æ‰€ã‚’çŸ¥ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
- ãã—ã¦ã€ä»–ã®ç”Ÿæˆç‰©ãŒãƒ‡ã‚£ã‚¹ã‚¯ä¸Šã®å ´æ‰€ã‚’å¤‰æ›´ã—ãŸã¨ãã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’æ›´æ–°ã—ã¾ã™ã€‚

Facebookã¯ã€ã™ã¹ã¦ã®ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¹³ã‚‰ãªåå‰ç©ºé–“ã«å­˜åœ¨ã™ã‚‹ğŸ¤”ã€[Haste](https://twitter.com/dan_abramov/status/758655309212704768)ã¨å‘¼ã°ã‚Œã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚
ã“ã‚Œã¯ã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆå®£è¨€ãŒä»–ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¸ã®ãƒ‘ã‚¹ã‚’è¨˜è¿°ã™ã‚‹å¿…è¦ã‚’ãªãã—ã¦ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã«ä¸Šè¨˜å•é¡Œã‚’è€ƒãˆã‚‹å¿…è¦ã‚’ãªãã™ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚
ä¾‹ãˆã°ã€ã‚¤ãƒ³ãƒãƒ¼ãƒˆã§ã¯ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«åã®ãƒ™ãƒ¼ã‚¹åã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã®ã¿ã‚’å¿…è¦ã«ã—ã¦ã€Hasteã¯ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ™‚ã«å®Ÿéš›ã«æ­£ã—ã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æ¤œç´¢ã™ã‚‹ãŸã‚ã«æ³¨æ„ã‚’æ‰•ã„ã¾ã™ã€‚
Facebookã®å¤–éƒ¨ã§ã€Hasteãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®åˆ©ç”¨ã¯å®Ÿç¸¾ãŒãªãæ¨å¥¨ã‚‚ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå‚ç…§ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã›ãšã€ä»£ã‚ã‚Šã«`any`ã¨ã—ã¦ãã‚Œã‚‰ã‚’å‹ä»˜ã‘ã™ã‚‹ã“ã¨ã‚’æ±ºå®šã—ã¾ã—ãŸã€‚

æœ€ã‚‚å˜ç´”ã«è¨€ãˆã°ã€ã™ã¹ã¦ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚€å˜ä¸€ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ã—ã¦Hasteã‚’æ‰ãˆã‚‹ã“ã¨ãŒã§ãã€ã—ãŸãŒã£ã¦ã€ç›¸å¯¾çš„ãªå…„å¼Ÿãƒ‘ã‚¹ã‚’ä½¿ç”¨ã—ãŸå…¨ã¦ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã¯å¸¸ã«å®‰å…¨ã«ãªã‚Šã¾ã™ã€‚
ã“ã‚Œã¯ã€å˜ä¸€ã®ç”Ÿæˆç‰©ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ©Ÿèƒ½ã«ã‚ˆã£ã¦å¾—ã‚‰ã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚
ã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒã˜å ´æ‰€ã«é…ç½®ã™ã‚‹ã‚ˆã‚Šã‚‚ã€ã™ã¹ã¦ã®ç”Ÿæˆç‰©ã‚’å˜ä¸€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«è“„ç©ã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆå‚ç…§å‹ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’æ”¾å‡ºã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
